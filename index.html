<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Email Meaningfulness Analyzer</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Email Meaningfulness Analyzer</h1>
        <p>Are you receiving meaningful emails or are they just noise?</p>
      </header>

      <div class="main-content">
        <div class="input-section">
          <h2 class="section-title">üìß Email Body</h2>
          <textarea
            id="email-content"
            placeholder="Paste the email content here..."
          ></textarea>

          <div class="actions">
            <button class="analyze-btn" id="analyze-btn">
              üîç Analyze Email
            </button>
            <button class="clear-btn" id="clear-btn">üóëÔ∏è Clear</button>
            <input
              type="file"
              id="file-upload"
              class="file-upload"
              accept=".txt"
            />
            <button class="upload-btn" id="upload-btn">üìÅ Upload Email</button>
          </div>
        </div>

        <div class="results-section">
          <h2 class="section-title">üìä Analysis Results</h2>

          <div class="result-content">
            <div class="loading" id="loading">
              <div class="spinner"></div>
              <p>Analyzing email content...</p>
            </div>

            <div class="placeholder" id="results-placeholder">
              <h1>üìà</h1>
              <p>Analysis results will appear here</p>
            </div>

            <div id="results" style="display: none">
              <div class="meaningfulness-score">
                <div class="score-label">Meaningfulness Score</div>
                <div class="score-value" id="score-value">0%</div>
                <div class="score-bar">
                  <div class="score-fill" id="score-fill"></div>
                </div>
                <div class="meaningfulness-label" id="meaningfulness-label">
                  Neutral
                </div>
              </div>

              <div class="analysis-details">
                <div class="detail-item">
                  <span class="detail-label">Key Topics Found:</span>
                  <span class="detail-value" id="topics-value">0</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Action Requests:</span>
                  <span class="detail-value" id="actions-value">0</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Sentiment:</span>
                  <span class="detail-value" id="sentiment-value">Neutral</span>
                </div>
                <div class="detail-item">
                  <span class="detail-label">Length Analysis:</span>
                  <span class="detail-value" id="length-value">Medium</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <p>&copy; 2025 Arthur Illa. Todos os direitos reservados.</p>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const emailContent = document.getElementById("email-content");
        const analyzeBtn = document.getElementById("analyze-btn");
        const clearBtn = document.getElementById("clear-btn");
        const uploadBtn = document.getElementById("upload-btn");
        const fileUpload = document.getElementById("file-upload");
        const loading = document.getElementById("loading");
        const resultsPlaceholder = document.getElementById(
          "results-placeholder"
        );
        const results = document.getElementById("results");
        const scoreValue = document.getElementById("score-value");
        const scoreFill = document.getElementById("score-fill");
        const meaningfulnessLabel = document.getElementById(
          "meaningfulness-label"
        );
        const topicsValue = document.getElementById("topics-value");
        const actionsValue = document.getElementById("actions-value");
        const sentimentValue = document.getElementById("sentiment-value");
        const lengthValue = document.getElementById("length-value");

        analyzeBtn.addEventListener("click", function () {
          const content = emailContent.value.trim();

          if (content.length === 0) {
            alert("Please enter some email content to analyze");
            return;
          }

          loading.style.display = "block";
          resultsPlaceholder.style.display = "none";
          results.style.display = "none";

          setTimeout(() => {
            analyzeEmail(content);
          }, 2000);
        });

        clearBtn.addEventListener("click", function () {
          emailContent.value = "";
          results.style.display = "none";
          resultsPlaceholder.style.display = "block";
        });

        uploadBtn.addEventListener("click", function () {
          fileUpload.click();
        });

        fileUpload.addEventListener("change", function (e) {
          const file = e.target.files[0];
          if (!file) return;

          const reader = new FileReader();
          reader.onload = function (e) {
            emailContent.value = e.target.result;
          };
          reader.readAsText(file);
        });

        function analyzeEmail(content) {
          loading.style.display = "none";
          results.style.display = "block";

          const score = Math.floor(Math.random() * 100);
          const topics = Math.floor(Math.random() * 5) + 1;
          const actions = Math.floor(Math.random() * 3);
          const sentiments = ["Positive", "Neutral", "Negative"];
          const sentiment =
            sentiments[Math.floor(Math.random() * sentiments.length)];
          const lengths = ["Short", "Medium", "Long"];
          const length = lengths[Math.floor(Math.random() * lengths.length)];

          scoreValue.textContent = `${score}%`;
          scoreFill.style.width = `${score}%`;

          if (score >= 70) {
            meaningfulnessLabel.textContent = "Meaningful Email";
            meaningfulnessLabel.className = "meaningfulness-label meaningful";
          } else if (score >= 40) {
            meaningfulnessLabel.textContent = "Moderately Meaningful";
            meaningfulnessLabel.className = "meaningfulness-label";
          } else {
            meaningfulnessLabel.textContent = "Not Meaningful";
            meaningfulnessLabel.className =
              "meaningfulness-label not-meaningful";
          }

          topicsValue.textContent = topics;
          actionsValue.textContent = actions;
          sentimentValue.textContent = sentiment;
          lengthValue.textContent = length;
        }
      });
    </script>
  </body>
</html>
